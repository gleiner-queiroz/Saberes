<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Contato — Saberes</title>
  <style>
    :root{
      --bg:#0b0b0b;
      --green:#08c44a; /* seu verde */
      --card:#121212;
      --muted:#bdbdbd;
    }
    body{background:var(--bg); color:var(--muted); font-family:Arial,Helvetica,sans-serif; margin:0; padding:24px;}
    .card{background:var(--card); padding:20px; border-radius:10px; max-width:720px; margin:24px auto; box-shadow:0 6px 18px rgba(0,0,0,0.6);}
    h1{color:var(--green); margin-top:0;}
    label{display:block; margin-top:12px; font-size:0.9rem; color:var(--muted);}
    input[type="text"], input[type="email"], textarea{
      width:100%; padding:10px; margin-top:6px; border-radius:6px; border:1px solid #232323; background:#0a0a0a; color:#fff;
    }
    textarea{min-height:140px; resize:vertical;}
    .row{display:flex; gap:12px;}
    .btn{display:inline-block; margin-top:16px; background:var(--green); color:#000; padding:12px 18px; border-radius:50px; font-weight:700; cursor:pointer; border:none;}
    .hint{font-size:0.85rem; color:#9e9e9e; margin-top:10px;}
    .success{color:#9fe7b6;}
    .error{color:#ff9b9b;}
  </style>
</head>
<body>
  <div class="card">
    <h1>Fale com a equipe — Saberes</h1>
    <p class="hint">Tem sugestão, problema ou quer ser professor? Manda mensagem.</p>

    <form id="contatoForm">
      <label>Nome
        <input type="text" name="nome" id="nome" required />
      </label>
      <label>E-mail
        <input type="email" name="email" id="email" required />
      </label>
      <div class="row">
        <label style="flex:1">Telefone
          <input type="text" name="telefone" id="telefone" />
        </label>
        <label style="flex:1">Assunto
          <input type="text" name="assunto" id="assunto" />
        </label>
      </div>
      <label>Mensagem
        <textarea name="mensagem" id="mensagem" required></textarea>
      </label>

      <button class="btn" type="submit">Enviar</button>
      <p id="msg" class="hint"></p>
    </form>
  </div>

  <script>
    const form = document.getElementById('contatoForm');
    const msg = document.getElementById('msg');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      msg.textContent = 'Enviando...';
      msg.className = 'hint';
      const data = {
        nome: document.getElementById('nome').value.trim(),
        email: document.getElementById('email').value.trim(),
        telefone: document.getElementById('telefone').value.trim(),
        assunto: document.getElementById('assunto').value.trim() || 'Contato pelo site',
        mensagem: document.getElementById('mensagem').value.trim()
      };
      try {
        const resp = await fetch('/saberes/api/contato_submit.php', { // ajuste path se necessário
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(data)
        });
        const json = await resp.json();
        if (resp.ok && json.ok) {
          msg.textContent = 'Mensagem enviada — obrigado!';
          msg.className = 'success';
          form.reset();
        } else {
          msg.textContent = json.erro || 'Erro ao enviar.';
          msg.className = 'error';
        }
      } catch (err) {
        msg.textContent = 'Erro de conexão: ' + err.message;
        msg.className = 'error';
      }
    });
  </script>
</body>
</html>
